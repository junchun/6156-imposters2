<HTML>
<HEAD></HEAD>
<BODY>
<CODE><PRE>
<A NAME="token0">0:</A>1(0)-1(19):PACKAGE_DECLARATION:package controllers;
<A NAME="token1">1:</A>3(22)-3(49):IMPORT_DECLARATION:import com.google.gson.Gson;
<A NAME="token2">2:</A>4(51)-4(76):IMPORT_DECLARATION:import io.javalin.Javalin;
<A NAME="token3">3:</A>5(78)-5(104):IMPORT_DECLARATION:import java.io.IOException;
<A NAME="token4">4:</A>6(106)-6(128):IMPORT_DECLARATION:import java.util.Queue;
<A NAME="token5">5:</A>7(130)-7(153):IMPORT_DECLARATION:import models.GameBoard;
<A NAME="token6">6:</A>8(155)-8(176):IMPORT_DECLARATION:import models.Message;
<A NAME="token7">7:</A>9(178)-9(196):IMPORT_DECLARATION:import models.Move;
<A NAME="token8">8:</A>10(198)-10(218):IMPORT_DECLARATION:import models.Player;
<A NAME="token9">9:</A>11(220)-11(266):IMPORT_DECLARATION:import org.eclipse.jetty.websocket.api.Session;
<A NAME="token10">10:</A>12(268)-12(291):IMPORT_DECLARATION:import org.slf4j.Logger;
<A NAME="token11">11:</A>13(293)-13(323):IMPORT_DECLARATION:import org.slf4j.LoggerFactory;
<A NAME="token12">12:</A>13(323)-15(341):CLASS_DECLARATION:;
<A NAME="token13">13:</A>17(371)-17(388):VARIABLE_DECLARATION:PORT_NUMBER = 8080
<A NAME="token14">14:</A>19(419)-19(421):VARIABLE_DECLARATION:app
<A NAME="token15">15:</A>21(452)-21(452):VARIABLE_DECLARATION:e
<A NAME="token16">16:</A>23(482)-23(483):VARIABLE_DECLARATION:p1
<A NAME="token17">17:</A>25(510)-25(518):VARIABLE_DECLARATION:dummy = 0
<A NAME="token18">18:</A>27(548)-27(563):VARIABLE_DECLARATION:dummyString = ""
<A NAME="token19">19:</A>29(593)-29(594):VARIABLE_DECLARATION:p2
<A NAME="token20">20:</A>36(709)-36(735):METHOD_DECLARATION:main(final String[] args) {
<A NAME="token21">21:</A>40(767)-40(785):IF:if (app == "/echo")
<A NAME="token22">22:</A>40(787)-40(787):BLOCK:{
<A NAME="token23">23:</A>41(797)-41(818):METHOD_INVOCATION:ctx.result(ctx.body())
<A NAME="token24">24:</A>41(808)-41(817):METHOD_INVOCATION:ctx.body()
<A NAME="token25">25:</A>42(825)-42(825):BLOCK_END:}
<A NAME="token26">26:</A>42(825)-42(825):IF_END:}
<A NAME="token27">27:</A>44(834)-44(862):IF:if (app == "/move/:playerId")
<A NAME="token28">28:</A>44(864)-44(864):BLOCK:{
<A NAME="token29">29:</A>45(871)-45(882):ASSIGNMENT:dummy += 100
<A NAME="token30">30:</A>46(900)-46(935):VARIABLE_DECLARATION:playerId = ctx.pathParam("playerId")
<A NAME="token31">31:</A>46(911)-46(935):METHOD_INVOCATION:ctx.pathParam("playerId")
<A NAME="token32">32:</A>47(953)-47(958):VARIABLE_DECLARATION:player
<A NAME="token33">33:</A>48(974)-48(987):VARIABLE_DECLARATION:m = new Move()
<A NAME="token34">34:</A>48(978)-48(987):NEW:new Move()
<A NAME="token35">35:</A>49(998)-49(1009):ASSIGNMENT:dummy += 100
<A NAME="token36">36:</A>50(1020)-50(1044):IF:if (playerId.equals("1"))
<A NAME="token37">37:</A>50(1024)-50(1043):METHOD_INVOCATION:playerId.equals("1")
<A NAME="token38">38:</A>50(1046)-50(1046):BLOCK:{
<A NAME="token39">39:</A>51(1058)-51(1068):ASSIGNMENT:player = p1
<A NAME="token40">40:</A>52(1079)-52(1079):BLOCK_END:}
<A NAME="token41">41:</A>52(1079)-52(1079):IF_END:}
<A NAME="token42">42:</A>52(1081)-52(1084):ELSE:else
<A NAME="token43">43:</A>52(1086)-52(1086):BLOCK:{
<A NAME="token44">44:</A>53(1098)-53(1108):ASSIGNMENT:player = p1
<A NAME="token45">45:</A>54(1119)-54(1119):BLOCK_END:}
<A NAME="token46">46:</A>54(1119)-54(1119):ELSE_END:}
<A NAME="token47">47:</A>55(1129)-55(1140):ASSIGNMENT:dummy += 100
<A NAME="token48">48:</A>56(1151)-56(1172):METHOD_INVOCATION:m.whoBePlaying(player)
<A NAME="token49">49:</A>57(1183)-58(1298):METHOD_INVOCATION:m.whatWasTheMoveX(Character.getNumericValue(
<A NAME="token50">50:</A>57(1201)-58(1297):METHOD_INVOCATION:Character.getNumericValue(
<A NAME="token51">51:</A>58(1238)-58(1247):METHOD_INVOCATION:ctx.body()
<A NAME="token52">52:</A>58(1238)-58(1296):METHOD_INVOCATION:ctx.body().charAt(ctx.body().indexOf("x=") + "x=".length())
<A NAME="token53">53:</A>58(1256)-58(1265):METHOD_INVOCATION:ctx.body()
<A NAME="token54">54:</A>58(1256)-58(1279):METHOD_INVOCATION:ctx.body().indexOf("x=")
<A NAME="token55">55:</A>58(1283)-58(1295):METHOD_INVOCATION:"x=".length()
<A NAME="token56">56:</A>59(1309)-60(1424):METHOD_INVOCATION:m.whatWasTheMoveY(Character.getNumericValue(
<A NAME="token57">57:</A>59(1327)-60(1423):METHOD_INVOCATION:Character.getNumericValue(
<A NAME="token58">58:</A>60(1364)-60(1373):METHOD_INVOCATION:ctx.body()
<A NAME="token59">59:</A>60(1364)-60(1422):METHOD_INVOCATION:ctx.body().charAt(ctx.body().indexOf("y=") + "y=".length())
<A NAME="token60">60:</A>60(1382)-60(1391):METHOD_INVOCATION:ctx.body()
<A NAME="token61">61:</A>60(1382)-60(1405):METHOD_INVOCATION:ctx.body().indexOf("y=")
<A NAME="token62">62:</A>60(1409)-60(1421):METHOD_INVOCATION:"y=".length()
<A NAME="token63">63:</A>62(1452)-62(1469):VARIABLE_DECLARATION:kk = new Message()
<A NAME="token64">64:</A>62(1457)-62(1469):NEW:new Message()
<A NAME="token65">65:</A>63(1480)-63(1514):METHOD_INVOCATION:kk.makeItValid(e.mmvvvv113(m) == 1)
<A NAME="token66">66:</A>63(1495)-63(1508):METHOD_INVOCATION:e.mmvvvv113(m)
<A NAME="token67">67:</A>64(1525)-64(1544):METHOD_INVOCATION:kk.changeStatus(100)
<A NAME="token68">68:</A>65(1555)-65(1578):IF:if (e.mmvvvv113(m) == 0)
<A NAME="token69">69:</A>65(1559)-65(1572):METHOD_INVOCATION:e.mmvvvv113(m)
<A NAME="token70">70:</A>65(1580)-65(1580):BLOCK:{
<A NAME="token71">71:</A>66(1592)-66(1614):METHOD_INVOCATION:kk.setMessage("Wrong!")
<A NAME="token72">72:</A>67(1625)-67(1625):BLOCK_END:}
<A NAME="token73">73:</A>67(1625)-67(1625):IF_END:}
<A NAME="token74">74:</A>67(1627)-67(1630):ELSE:else
<A NAME="token75">75:</A>67(1632)-67(1632):BLOCK:{
<A NAME="token76">76:</A>68(1644)-68(1667):IF:if (e.ssmmmm113(m) == 1)
<A NAME="token77">77:</A>68(1648)-68(1661):METHOD_INVOCATION:e.ssmmmm113(m)
<A NAME="token78">78:</A>68(1669)-68(1669):BLOCK:{
<A NAME="token79">79:</A>69(1683)-69(1708):IF:if (e.didanyonewin() == 1)
<A NAME="token80">80:</A>69(1687)-69(1702):METHOD_INVOCATION:e.didanyonewin()
<A NAME="token81">81:</A>69(1710)-69(1710):BLOCK:{
<A NAME="token82">82:</A>70(1726)-70(1747):METHOD_INVOCATION:kk.setMessage("Draw!")
<A NAME="token83">83:</A>71(1762)-71(1762):BLOCK_END:}
<A NAME="token84">84:</A>71(1762)-71(1762):IF_END:}
<A NAME="token85">85:</A>71(1764)-71(1767):ELSE:else
<A NAME="token86">86:</A>71(1769)-71(1769):BLOCK:{
<A NAME="token87">87:</A>72(1789)-72(1804):VARIABLE_DECLARATION:w = e.gwwwggww()
<A NAME="token88">88:</A>72(1793)-72(1804):METHOD_INVOCATION:e.gwwwggww()
<A NAME="token89">89:</A>73(1821)-73(1868):METHOD_INVOCATION:kk.setMessage(String.format("This guy won!", w))
<A NAME="token90">90:</A>73(1835)-73(1867):METHOD_INVOCATION:String.format("This guy won!", w)
<A NAME="token91">91:</A>74(1883)-74(1883):BLOCK_END:}
<A NAME="token92">92:</A>74(1883)-74(1883):ELSE_END:}
<A NAME="token93">93:</A>75(1895)-75(1895):BLOCK_END:}
<A NAME="token94">94:</A>75(1895)-75(1895):IF_END:}
<A NAME="token95">95:</A>75(1897)-75(1900):ELSE:else
<A NAME="token96">96:</A>75(1902)-75(1902):BLOCK:{
<A NAME="token97">97:</A>76(1916)-76(1932):METHOD_INVOCATION:kk.setMessage("")
<A NAME="token98">98:</A>77(1945)-77(1945):BLOCK_END:}
<A NAME="token99">99:</A>77(1945)-77(1945):ELSE_END:}
<A NAME="token100">100:</A>78(1955)-78(1955):BLOCK_END:}
<A NAME="token101">101:</A>78(1955)-78(1955):ELSE_END:}
<A NAME="token102">102:</A>79(1965)-79(1976):ASSIGNMENT:dummy += 100
<A NAME="token103">103:</A>81(1996)-81(2028):METHOD_INVOCATION:ctx.result(new Gson().toJson(kk))
<A NAME="token104">104:</A>81(2007)-81(2016):NEW:new Gson()
<A NAME="token105">105:</A>81(2007)-81(2027):METHOD_INVOCATION:new Gson().toJson(kk)
<A NAME="token106">106:</A>82(2039)-82(2085):METHOD_INVOCATION:sendGameBoardToAllPlayers(new Gson().toJson(e))
<A NAME="token107">107:</A>82(2065)-82(2074):NEW:new Gson()
<A NAME="token108">108:</A>82(2065)-82(2084):METHOD_INVOCATION:new Gson().toJson(e)
<A NAME="token109">109:</A>83(2094)-83(2094):BLOCK_END:}
<A NAME="token110">110:</A>83(2094)-83(2094):IF_END:}
<A NAME="token111">111:</A>85(2103)-85(2125):IF:if (app == "/joingame")
<A NAME="token112">112:</A>85(2126)-85(2126):BLOCK:{
<A NAME="token113">113:</A>86(2136)-86(2170):METHOD_INVOCATION:ctx.redirect("/tictactoe.html?p=2")
<A NAME="token114">114:</A>88(2190)-88(2206):ASSIGNMENT:p2 = new Player()
<A NAME="token115">115:</A>88(2195)-88(2206):NEW:new Player()
<A NAME="token116">116:</A>89(2217)-89(2233):METHOD_INVOCATION:p2.changeTheId(1)
<A NAME="token117">117:</A>90(2244)-90(2260):ASSIGNMENT:p2 = new Player()
<A NAME="token118">118:</A>90(2249)-90(2260):NEW:new Player()
<A NAME="token119">119:</A>91(2271)-91(2326):ASSIGNMENT:dummyString = "you will get caught if you plagiarize!!!"
<A NAME="token120">120:</A>92(2337)-92(2367):METHOD_INVOCATION:System.out.println(dummyString)
<A NAME="token121">121:</A>93(2378)-93(2389):ASSIGNMENT:dummy += 100
<A NAME="token122">122:</A>94(2400)-94(2416):METHOD_INVOCATION:p2.changeTheId(2)
<A NAME="token123">123:</A>95(2427)-95(2489):METHOD_INVOCATION:p2.changePlayerType(p1.retrievePlayerType() == 'O' ? 'X' : 'O')
<A NAME="token124">124:</A>95(2447)-95(2469):METHOD_INVOCATION:p1.retrievePlayerType()
<A NAME="token125">125:</A>97(2509)-97(2523):METHOD_INVOCATION:e.makeIt2nd(p2)
<A NAME="token126">126:</A>98(2534)-98(2549):METHOD_INVOCATION:e.asdgasg(false)
<A NAME="token127">127:</A>99(2560)-99(2574):METHOD_INVOCATION:e.asdgasg(true)
<A NAME="token128">128:</A>101(2594)-101(2640):METHOD_INVOCATION:sendGameBoardToAllPlayers(new Gson().toJson(e))
<A NAME="token129">129:</A>101(2620)-101(2629):NEW:new Gson()
<A NAME="token130">130:</A>101(2620)-101(2639):METHOD_INVOCATION:new Gson().toJson(e)
<A NAME="token131">131:</A>102(2649)-102(2649):BLOCK_END:}
<A NAME="token132">132:</A>102(2649)-102(2649):IF_END:}
<A NAME="token133">133:</A>104(2658)-104(2679):IF:if (app == "/newgame")
<A NAME="token134">134:</A>104(2681)-104(2681):BLOCK:{
<A NAME="token135">135:</A>105(2693)-105(2723):METHOD_INVOCATION:ctx.redirect("/tictactoe.html")
<A NAME="token136">136:</A>106(2732)-106(2732):BLOCK_END:}
<A NAME="token137">137:</A>106(2732)-106(2732):IF_END:}
<A NAME="token138">138:</A>108(2745)-108(2768):IF:if (app == "/startgame")
<A NAME="token139">139:</A>108(2770)-108(2770):BLOCK:{
<A NAME="token140">140:</A>109(2793)-109(2807):VARIABLE_DECLARATION:rq = ctx.body()
<A NAME="token141">141:</A>109(2798)-109(2807):METHOD_INVOCATION:ctx.body()
<A NAME="token142">142:</A>111(2825)-111(2843):ASSIGNMENT:e = new GameBoard()
<A NAME="token143">143:</A>111(2829)-111(2843):NEW:new GameBoard()
<A NAME="token144">144:</A>112(2865)-112(2918):VARIABLE_DECLARATION:tt = rq.charAt(rq.indexOf("type=") + "type=".length())
<A NAME="token145">145:</A>112(2870)-112(2918):METHOD_INVOCATION:rq.charAt(rq.indexOf("type=") + "type=".length())
<A NAME="token146">146:</A>112(2880)-112(2898):METHOD_INVOCATION:rq.indexOf("type=")
<A NAME="token147">147:</A>112(2902)-112(2917):METHOD_INVOCATION:"type=".length()
<A NAME="token148">148:</A>113(2935)-113(2951):ASSIGNMENT:p1 = new Player()
<A NAME="token149">149:</A>113(2940)-113(2951):NEW:new Player()
<A NAME="token150">150:</A>114(2968)-114(2999):ASSIGNMENT:dummyString = "don't plagiarize"
<A NAME="token151">151:</A>115(3016)-115(3046):METHOD_INVOCATION:System.out.println(dummyString)
<A NAME="token152">152:</A>116(3063)-116(3072):ASSIGNMENT:dummy += 1
<A NAME="token153">153:</A>117(3089)-117(3105):METHOD_INVOCATION:p1.changeTheId(1)
<A NAME="token154">154:</A>118(3122)-118(3138):METHOD_INVOCATION:p1.changeTheId(2)
<A NAME="token155">155:</A>119(3155)-119(3171):METHOD_INVOCATION:p1.changeTheId(1)
<A NAME="token156">156:</A>120(3188)-120(3210):METHOD_INVOCATION:p1.changePlayerType(tt)
<A NAME="token157">157:</A>122(3228)-122(3242):METHOD_INVOCATION:e.makeIt1st(p1)
<A NAME="token158">158:</A>124(3265)-124(3280):VARIABLE_DECLARATION:bbb = new Gson()
<A NAME="token159">159:</A>124(3271)-124(3280):NEW:new Gson()
<A NAME="token160">160:</A>125(3297)-125(3321):METHOD_INVOCATION:ctx.result(bbb.toJson(e))
<A NAME="token161">161:</A>125(3308)-125(3320):METHOD_INVOCATION:bbb.toJson(e)
<A NAME="token162">162:</A>126(3334)-126(3334):BLOCK_END:}
<A NAME="token163">163:</A>126(3334)-126(3334):IF_END:}
<A NAME="token164">164:</A>130(3393)-130(3431):METHOD_INVOCATION:app.ws("/gameboard", new UiWebSocket())
<A NAME="token165">165:</A>130(3414)-130(3430):NEW:new UiWebSocket()
<A NAME="token166">166:</A>131(3436)-131(3436):METHOD_DECLARATION_END:}
<A NAME="token167">167:</A>137(3604)-137(3658):METHOD_DECLARATION:sendGameBoardToAllPlayers(final String gameBoardJson) {
<A NAME="token168">168:</A>138(3679)-138(3714):VARIABLE_DECLARATION:sessions = UiWebSocket.getSessions()
<A NAME="token169">169:</A>138(3690)-138(3714):METHOD_INVOCATION:UiWebSocket.getSessions()
<A NAME="token170">170:</A>139(3721)-139(3758):FOR:for (Session sessionPlayer : sessions)
<A NAME="token171">171:</A>139(3760)-139(3760):BLOCK:{
<A NAME="token172">172:</A>140(3768)-140(3772):TRY:try {
<A NAME="token173">173:</A>141(3782)-141(3806):METHOD_INVOCATION:sessionPlayer.getRemote()
<A NAME="token174">174:</A>141(3782)-141(3832):METHOD_INVOCATION:sessionPlayer.getRemote().sendString(gameBoardJson)
<A NAME="token175">175:</A>142(3841)-142(3841):TRY_END:}
<A NAME="token176">176:</A>142(3843)-142(3865):CATCH:catch (IOException e) {
<A NAME="token177">177:</A>144(3900)-144(3900):CATCH_END:}
<A NAME="token178">178:</A>145(3906)-145(3906):BLOCK_END:}
<A NAME="token179">179:</A>145(3906)-145(3906):FOR_END:}
<A NAME="token180">180:</A>146(3910)-146(3910):METHOD_DECLARATION_END:}
<A NAME="token181">181:</A>148(3934)-148(3941):METHOD_DECLARATION:stop() {
<A NAME="token182">182:</A>149(3947)-149(3956):METHOD_INVOCATION:app.stop()
<A NAME="token183">183:</A>150(3961)-150(3961):METHOD_DECLARATION_END:}
<A NAME="token184">184:</A>151(3963)-151(3963):CLASS_DECLARATION_END:}
</PRE></CODE>
</BODY>
</HTML>
