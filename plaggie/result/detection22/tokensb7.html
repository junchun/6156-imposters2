<HTML>
<HEAD></HEAD>
<BODY>
<CODE><PRE>
<A NAME="token0">0:</A>1(0)-1(14):PACKAGE_DECLARATION:package models;
<A NAME="token1">1:</A>9(115)-9(138):CLASS_DECLARATION:public class GameBoard {
<A NAME="token2">2:</A>11(158)-11(159):VARIABLE_DECLARATION:p1
<A NAME="token3">3:</A>13(180)-13(181):VARIABLE_DECLARATION:p2
<A NAME="token4">4:</A>15(203)-15(213):VARIABLE_DECLARATION:gameStarted
<A NAME="token5">5:</A>17(231)-17(234):VARIABLE_DECLARATION:turn
<A NAME="token6">6:</A>19(257)-19(266):VARIABLE_DECLARATION:boardState
<A NAME="token7">7:</A>21(284)-21(289):VARIABLE_DECLARATION:winner
<A NAME="token8">8:</A>23(311)-23(316):VARIABLE_DECLARATION:isDraw
<A NAME="token9">9:</A>27(377)-27(396):CONSTRUCTOR_DECLARATION:public GameBoard() {
<A NAME="token10">10:</A>28(402)-28(425):ASSIGNMENT:this.gameStarted = false
<A NAME="token11">11:</A>29(432)-29(444):ASSIGNMENT:this.turn = 1
<A NAME="token12">12:</A>30(452)-30(483):ASSIGNMENT:this.boardState = new char[3][3]
<A NAME="token13">13:</A>31(490)-31(504):ASSIGNMENT:this.winner = 0
<A NAME="token14">14:</A>32(512)-32(530):ASSIGNMENT:this.isDraw = false
<A NAME="token15">15:</A>34(537)-34(537):CONSTRUCTOR_DECLARATION_END:}
<A NAME="token16">16:</A>40(626)-40(634):METHOD_DECLARATION:getP1() {
<A NAME="token17">17:</A>41(640)-41(649):RETURN:return p1;
<A NAME="token18">18:</A>42(653)-42(653):METHOD_DECLARATION_END:}
<A NAME="token19">19:</A>47(744)-47(761):METHOD_DECLARATION:setP1(Player p1) {
<A NAME="token20">20:</A>48(767)-48(778):ASSIGNMENT:this.p1 = p1
<A NAME="token21">21:</A>49(783)-49(783):METHOD_DECLARATION_END:}
<A NAME="token22">22:</A>54(868)-54(876):METHOD_DECLARATION:getP2() {
<A NAME="token23">23:</A>55(882)-55(891):RETURN:return p2;
<A NAME="token24">24:</A>56(895)-56(895):METHOD_DECLARATION_END:}
<A NAME="token25">25:</A>61(994)-61(1011):METHOD_DECLARATION:setP2(Player p2) {
<A NAME="token26">26:</A>62(1017)-62(1028):ASSIGNMENT:this.p2 = p2
<A NAME="token27">27:</A>63(1033)-63(1033):METHOD_DECLARATION_END:}
<A NAME="token28">28:</A>69(1182)-69(1218):METHOD_DECLARATION:setGameStarted(boolean gameStarted) {
<A NAME="token29">29:</A>70(1224)-70(1253):ASSIGNMENT:this.gameStarted = gameStarted
<A NAME="token30">30:</A>71(1259)-71(1259):METHOD_DECLARATION_END:}
<A NAME="token31">31:</A>76(1338)-76(1348):METHOD_DECLARATION:getTurn() {
<A NAME="token32">32:</A>77(1354)-77(1370):RETURN:return this.turn;
<A NAME="token33">33:</A>78(1375)-78(1375):METHOD_DECLARATION_END:}
<A NAME="token34">34:</A>84(1551)-84(1569):METHOD_DECLARATION:setTurn(int turn) {
<A NAME="token35">35:</A>85(1575)-85(1590):ASSIGNMENT:this.turn = turn
<A NAME="token36">36:</A>86(1596)-86(1596):METHOD_DECLARATION_END:}
<A NAME="token37">37:</A>92(1724)-92(1747):METHOD_DECLARATION:isValidMove(Move move) {
<A NAME="token38">38:</A>93(1753)-93(1816):IF:if (this.gameStarted &amp;&amp; isSpaceFree(move) &amp;&amp; isPlayerTurn(move))
<A NAME="token39">39:</A>93(1777)-93(1793):METHOD_INVOCATION:isSpaceFree(move)
<A NAME="token40">40:</A>93(1798)-93(1815):METHOD_INVOCATION:isPlayerTurn(move)
<A NAME="token41">41:</A>93(1818)-93(1818):BLOCK:{
<A NAME="token42">42:</A>94(1826)-94(1837):RETURN:return true;
<A NAME="token43">43:</A>95(1844)-95(1844):BLOCK_END:}
<A NAME="token44">44:</A>95(1844)-95(1844):IF_END:}
<A NAME="token45">45:</A>96(1850)-96(1862):RETURN:return false;
<A NAME="token46">46:</A>97(1867)-97(1867):METHOD_DECLARATION_END:}
<A NAME="token47">47:</A>104(2050)-104(2074):METHOD_DECLARATION:isPlayerTurn(Move move) {
<A NAME="token48">48:</A>105(2080)-105(2124):RETURN:return this.turn == move.getPlayer().getId();
<A NAME="token49">49:</A>105(2100)-105(2115):METHOD_INVOCATION:move.getPlayer()
<A NAME="token50">50:</A>105(2100)-105(2123):METHOD_INVOCATION:move.getPlayer().getId()
<A NAME="token51">51:</A>106(2128)-106(2128):METHOD_DECLARATION_END:}
<A NAME="token52">52:</A>113(2331)-113(2354):METHOD_DECLARATION:isSpaceFree(Move move) {
<A NAME="token53">53:</A>114(2364)-114(2386):VARIABLE_DECLARATION:moveX = move.getMoveX()
<A NAME="token54">54:</A>114(2372)-114(2386):METHOD_INVOCATION:move.getMoveX()
<A NAME="token55">55:</A>115(2398)-115(2420):VARIABLE_DECLARATION:moveY = move.getMoveY()
<A NAME="token56">56:</A>115(2406)-115(2420):METHOD_INVOCATION:move.getMoveY()
<A NAME="token57">57:</A>116(2428)-116(2498):IF:if (boardState[moveX][moveY] == 'X' || boardState[moveX][moveY] == 'O')
<A NAME="token58">58:</A>116(2500)-116(2500):BLOCK:{
<A NAME="token59">59:</A>117(2508)-117(2520):RETURN:return false;
<A NAME="token60">60:</A>118(2527)-118(2527):BLOCK_END:}
<A NAME="token61">61:</A>118(2527)-118(2527):IF_END:}
<A NAME="token62">62:</A>119(2533)-119(2544):RETURN:return true;
<A NAME="token63">63:</A>120(2549)-120(2549):METHOD_DECLARATION_END:}
<A NAME="token64">64:</A>126(2761)-126(2803):METHOD_DECLARATION:addMoveToBoardAndSwitchesTurns(Move move) {
<A NAME="token65">65:</A>127(2813)-127(2835):VARIABLE_DECLARATION:moveX = move.getMoveX()
<A NAME="token66">66:</A>127(2821)-127(2835):METHOD_INVOCATION:move.getMoveX()
<A NAME="token67">67:</A>128(2846)-128(2868):VARIABLE_DECLARATION:moveY = move.getMoveY()
<A NAME="token68">68:</A>128(2854)-128(2868):METHOD_INVOCATION:move.getMoveY()
<A NAME="token69">69:</A>129(2881)-129(2915):VARIABLE_DECLARATION:symbol = move.getPlayer().getType()
<A NAME="token70">70:</A>129(2890)-129(2905):METHOD_INVOCATION:move.getPlayer()
<A NAME="token71">71:</A>129(2890)-129(2915):METHOD_INVOCATION:move.getPlayer().getType()
<A NAME="token72">72:</A>130(2922)-130(2959):ASSIGNMENT:this.boardState[moveX][moveY] = symbol
<A NAME="token73">73:</A>131(2966)-131(3014):ASSIGNMENT:this.turn = move.getPlayer().getId() == 1 ? 2 : 1
<A NAME="token74">74:</A>131(2978)-131(2993):METHOD_INVOCATION:move.getPlayer()
<A NAME="token75">75:</A>131(2978)-131(3001):METHOD_INVOCATION:move.getPlayer().getId()
<A NAME="token76">76:</A>132(3020)-132(3020):METHOD_DECLARATION_END:}
<A NAME="token77">77:</A>140(3199)-140(3228):METHOD_DECLARATION:playerWonGame(Player player) {
<A NAME="token78">78:</A>141(3234)-142(3367):IF:if (playerWonGameWithDiagonalLine(player) || playerWonGameWithHorizontalLine(player)
<A NAME="token79">79:</A>141(3238)-141(3274):METHOD_INVOCATION:playerWonGameWithDiagonalLine(player)
<A NAME="token80">80:</A>141(3279)-141(3317):METHOD_INVOCATION:playerWonGameWithHorizontalLine(player)
<A NAME="token81">81:</A>142(3330)-142(3366):METHOD_INVOCATION:playerWonGameWithVerticalLine(player)
<A NAME="token82">82:</A>142(3369)-142(3369):BLOCK:{
<A NAME="token83">83:</A>143(3377)-143(3388):RETURN:return true;
<A NAME="token84">84:</A>144(3395)-144(3395):BLOCK_END:}
<A NAME="token85">85:</A>144(3395)-144(3395):IF_END:}
<A NAME="token86">86:</A>145(3401)-145(3413):RETURN:return false;
<A NAME="token87">87:</A>147(3423)-147(3423):METHOD_DECLARATION_END:}
<A NAME="token88">88:</A>153(3584)-153(3597):METHOD_DECLARATION:isGameDraw() {
<A NAME="token89">89:</A>154(3603)-154(3660):IF:if (this.winner == 0 &amp;&amp; isBoardFull() &amp;&amp; this.gameStarted)
<A NAME="token90">90:</A>154(3627)-154(3639):METHOD_INVOCATION:isBoardFull()
<A NAME="token91">91:</A>154(3662)-154(3662):BLOCK:{
<A NAME="token92">92:</A>155(3670)-155(3681):RETURN:return true;
<A NAME="token93">93:</A>156(3688)-156(3688):BLOCK_END:}
<A NAME="token94">94:</A>156(3688)-156(3688):IF_END:}
<A NAME="token95">95:</A>157(3694)-157(3706):RETURN:return false;
<A NAME="token96">96:</A>158(3711)-158(3711):METHOD_DECLARATION_END:}
<A NAME="token97">97:</A>164(3814)-164(3828):METHOD_DECLARATION:setGameDraw() {
<A NAME="token98">98:</A>165(3834)-165(3857):ASSIGNMENT:this.gameStarted = false
<A NAME="token99">99:</A>166(3865)-166(3879):ASSIGNMENT:this.winner = 0
<A NAME="token100">100:</A>167(3887)-167(3904):ASSIGNMENT:this.isDraw = true
<A NAME="token101">101:</A>168(3910)-168(3910):METHOD_DECLARATION_END:}
<A NAME="token102">102:</A>175(4138)-175(4183):METHOD_DECLARATION:playerWonGameWithDiagonalLine(Player player) {
<A NAME="token103">103:</A>176(4194)-176(4224):VARIABLE_DECLARATION:playerSymbol = player.getType()
<A NAME="token104">104:</A>176(4209)-176(4224):METHOD_INVOCATION:player.getType()
<A NAME="token105">105:</A>177(4231)-178(4348):IF:if (boardState[0][0] == playerSymbol &amp;&amp; boardState[1][1] == playerSymbol 
<A NAME="token106">106:</A>178(4350)-178(4350):BLOCK:{
<A NAME="token107">107:</A>179(4358)-179(4369):RETURN:return true;
<A NAME="token108">108:</A>180(4376)-180(4376):BLOCK_END:}
<A NAME="token109">109:</A>180(4376)-180(4376):IF_END:}
<A NAME="token110">110:</A>180(4378)-180(4381):ELSE:else
<A NAME="token111">111:</A>180(4383)-181(4500):IF:if (boardState[0][2] == playerSymbol &amp;&amp; boardState[1][1] == playerSymbol 
<A NAME="token112">112:</A>181(4502)-181(4502):BLOCK:{
<A NAME="token113">113:</A>182(4510)-182(4521):RETURN:return true;
<A NAME="token114">114:</A>183(4528)-183(4528):BLOCK_END:}
<A NAME="token115">115:</A>183(4528)-183(4528):IF_END:}
<A NAME="token116">116:</A>183(4528)-183(4528):ELSE_END:}
<A NAME="token117">117:</A>184(4534)-184(4546):RETURN:return false;
<A NAME="token118">118:</A>185(4551)-185(4551):METHOD_DECLARATION_END:}
<A NAME="token119">119:</A>192(4783)-192(4830):METHOD_DECLARATION:playerWonGameWithHorizontalLine(Player player) {
<A NAME="token120">120:</A>193(4841)-193(4871):VARIABLE_DECLARATION:playerSymbol = player.getType()
<A NAME="token121">121:</A>193(4856)-193(4871):METHOD_INVOCATION:player.getType()
<A NAME="token122">122:</A>194(4878)-194(4904):FOR:for (int i = 0; i &lt; 3; i++)
<A NAME="token123">123:</A>194(4887)-194(4891):VARIABLE_DECLARATION:i = 0
<A NAME="token124">124:</A>194(4901)-194(4903):ASSIGNMENT:i++
<A NAME="token125">125:</A>194(4906)-194(4906):BLOCK:{
<A NAME="token126">126:</A>195(4914)-196(5033):IF:if (boardState[i][0] == playerSymbol &amp;&amp; boardState[i][1] == playerSymbol 
<A NAME="token127">127:</A>196(5035)-196(5035):BLOCK:{
<A NAME="token128">128:</A>197(5045)-197(5056):RETURN:return true;
<A NAME="token129">129:</A>198(5065)-198(5065):BLOCK_END:}
<A NAME="token130">130:</A>198(5065)-198(5065):IF_END:}
<A NAME="token131">131:</A>200(5076)-200(5076):BLOCK_END:}
<A NAME="token132">132:</A>200(5076)-200(5076):FOR_END:}
<A NAME="token133">133:</A>201(5082)-201(5094):RETURN:return false;
<A NAME="token134">134:</A>202(5100)-202(5100):METHOD_DECLARATION_END:}
<A NAME="token135">135:</A>210(5333)-210(5378):METHOD_DECLARATION:playerWonGameWithVerticalLine(Player player) {
<A NAME="token136">136:</A>211(5389)-211(5419):VARIABLE_DECLARATION:playerSymbol = player.getType()
<A NAME="token137">137:</A>211(5404)-211(5419):METHOD_INVOCATION:player.getType()
<A NAME="token138">138:</A>212(5427)-212(5453):FOR:for (int i = 0; i &lt; 3; i++)
<A NAME="token139">139:</A>212(5436)-212(5440):VARIABLE_DECLARATION:i = 0
<A NAME="token140">140:</A>212(5450)-212(5452):ASSIGNMENT:i++
<A NAME="token141">141:</A>212(5455)-212(5455):BLOCK:{
<A NAME="token142">142:</A>213(5463)-214(5583):IF:if  (boardState[0][i] == playerSymbol &amp;&amp; boardState[1][i] == playerSymbol 
<A NAME="token143">143:</A>214(5585)-214(5585):BLOCK:{
<A NAME="token144">144:</A>215(5595)-215(5606):RETURN:return true;
<A NAME="token145">145:</A>216(5615)-216(5615):BLOCK_END:}
<A NAME="token146">146:</A>216(5615)-216(5615):IF_END:}
<A NAME="token147">147:</A>218(5626)-218(5626):BLOCK_END:}
<A NAME="token148">148:</A>218(5626)-218(5626):FOR_END:}
<A NAME="token149">149:</A>219(5632)-219(5644):RETURN:return false;
<A NAME="token150">150:</A>220(5649)-220(5649):METHOD_DECLARATION_END:}
<A NAME="token151">151:</A>226(5833)-226(5847):METHOD_DECLARATION:isBoardFull() {
<A NAME="token152">152:</A>227(5853)-227(5879):FOR:for (int i = 0; i &lt; 3; i++)
<A NAME="token153">153:</A>227(5862)-227(5866):VARIABLE_DECLARATION:i = 0
<A NAME="token154">154:</A>227(5876)-227(5878):ASSIGNMENT:i++
<A NAME="token155">155:</A>227(5881)-227(5881):BLOCK:{
<A NAME="token156">156:</A>228(5889)-228(5916):FOR:for  (int j = 0; j &lt; 3; j++)
<A NAME="token157">157:</A>228(5899)-228(5903):VARIABLE_DECLARATION:j = 0
<A NAME="token158">158:</A>228(5913)-228(5915):ASSIGNMENT:j++
<A NAME="token159">159:</A>228(5918)-228(5918):BLOCK:{
<A NAME="token160">160:</A>229(5928)-229(5982):IF:if (boardState[i][j] != 'X' &amp;&amp; boardState[i][j] != 'O')
<A NAME="token161">161:</A>229(5984)-229(5984):BLOCK:{
<A NAME="token162">162:</A>230(5996)-230(6008):RETURN:return false;
<A NAME="token163">163:</A>231(6019)-231(6019):BLOCK_END:}
<A NAME="token164">164:</A>231(6019)-231(6019):IF_END:}
<A NAME="token165">165:</A>232(6027)-232(6027):BLOCK_END:}
<A NAME="token166">166:</A>232(6027)-232(6027):FOR_END:}
<A NAME="token167">167:</A>233(6033)-233(6033):BLOCK_END:}
<A NAME="token168">168:</A>233(6033)-233(6033):FOR_END:}
<A NAME="token169">169:</A>234(6039)-234(6050):RETURN:return true;
<A NAME="token170">170:</A>235(6055)-235(6055):METHOD_DECLARATION_END:}
<A NAME="token171">171:</A>242(6212)-242(6249):METHOD_DECLARATION:endsGameAndSetsWinner(Player player) {
<A NAME="token172">172:</A>243(6255)-243(6282):ASSIGNMENT:this.winner = player.getId()
<A NAME="token173">173:</A>243(6269)-243(6282):METHOD_INVOCATION:player.getId()
<A NAME="token174">174:</A>244(6290)-244(6313):ASSIGNMENT:this.gameStarted = false
<A NAME="token175">175:</A>246(6322)-246(6322):METHOD_DECLARATION_END:}
<A NAME="token176">176:</A>253(6483)-253(6510):METHOD_DECLARATION:generateValidMoveMessage() {
<A NAME="token177">177:</A>254(6516)-254(6549):RETURN:return new Message(true, 100, "");
<A NAME="token178">178:</A>254(6523)-254(6548):NEW:new Message(true, 100, "")
<A NAME="token179">179:</A>255(6553)-255(6553):METHOD_DECLARATION_END:}
<A NAME="token180">180:</A>261(6677)-261(6699):METHOD_DECLARATION:generateDrawMessage() {
<A NAME="token181">181:</A>262(6705)-262(6765):RETURN:return new Message(false, -100, "Game Over. It was a DRAW!");
<A NAME="token182">182:</A>262(6712)-262(6764):NEW:new Message(false, -100, "Game Over. It was a DRAW!")
<A NAME="token183">183:</A>263(6770)-263(6770):METHOD_DECLARATION_END:}
<A NAME="token184">184:</A>270(6937)-270(6966):METHOD_DECLARATION:generateInvalidMoveMessage() {
<A NAME="token185">185:</A>271(6980)-272(7091):VARIABLE_DECLARATION:moveMessage = new Message(false, -1,
<A NAME="token186">186:</A>271(6994)-272(7091):NEW:new Message(false, -1,
<A NAME="token187">187:</A>273(7098)-273(7116):RETURN:return moveMessage;
<A NAME="token188">188:</A>274(7121)-274(7121):METHOD_DECLARATION_END:}
<A NAME="token189">189:</A>277(7129)-277(7129):CLASS_DECLARATION_END:}
</PRE></CODE>
</BODY>
</HTML>
